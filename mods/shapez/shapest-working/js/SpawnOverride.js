import { SzColorItem } from "./shapest/color.js";
import { SzDefinition } from "./shapest/definition.js";
import { SzInfo } from "./shapest/layer.js";
import { BaseItem, clamp, globalConfig, MapChunk, ShapeDefinition } from "./shapez.js";
import { ExtendSuperclass } from "./types/common.js";
export const shapePatchChances = {
    circleSpawn: { base: 100, growth: 3, cap: 100 },
    squareSpawn: { base: 70, growth: 2, cap: 100 },
    starSpawn: { base: 30, growth: 1, cap: 100 },
    windmillSpawn: { base: 20, growth: 0.5, cap: 100 },
};
export const predefinedPatches = [
    { x: 0, y: 0, item: SzColorItem.fromColor('red'), dx: 7, dy: 7 },
    { x: -1, y: 0, item: SzInfo.quad.named.circleSpawn, dx: -9, dy: 7 },
    { x: 0, y: -1, item: SzInfo.quad.named.squareSpawn, dx: 5, dy: -7 },
    { x: -1, y: -1, item: SzColorItem.fromColor('green') },
    { x: 5, y: -2, item: SzInfo.quad.named.starSpawn, dx: 5, dy: -7 },
];
export class SpawnOwerride extends MapChunk {
    internalGenerateColorPatch(rng, colorPatchSize, distanceToOriginInChunks) {
        console.log(this);
        let available = ['red', 'green'];
        if (distanceToOriginInChunks > 2)
            available.push('blue');
        this.internalGeneratePatch(rng, colorPatchSize, SzColorItem.fromColor(rng.choice(available)));
    }
    internalGenerateShapePatch(rng, shapePatchSize, distanceToOriginInChunks) {
        let dToChance = (base, grow, maxTotal) => Math.round(base + clamp(distanceToOriginInChunks * grow, 0, maxTotal - base));
        const quads = SzInfo.quad.byName;
        const shapes = Object.fromEntries(Object.entries(shapePatchChances).map(([k, { base, growth, cap }]) => [
            [k, dToChance(base, growth, cap)]
        ]));
        let shape = this.internalGenerateRandomSubShape(rng, shapes);
        console.log(this);
        // @ts-ignore
        const definition = SzDefinition.fromShortKey(SzInfo.quad.named[shape + 'Spawn']);
        this.internalGeneratePatch(rng, shapePatchSize, this.root.shapeDefinitionMgr.getShapeItemFromDefinition(definition));
    }
    generatePredefined(rng) {
        let def = predefinedPatches.find(p => p.x == this.x && p.y == this.y);
        if (!def)
            return false;
        let item = def.item instanceof BaseItem ? def.item
            : this.root.shapeDefinitionMgr.getShapeItemFromDefinition(ShapeDefinition.fromShortKey(def.item));
        let dx = def.dx == null ? null : def.dx + (def.dx > 0 ? 0 : globalConfig.mapChunkSize);
        let dy = def.dy == null ? null : def.dy + (def.dy > 0 ? 0 : globalConfig.mapChunkSize);
        this.internalGeneratePatch(rng, 2, item, dx, dy);
        return true;
    }
    static install(mod) {
        ExtendSuperclass(mod, MapChunk, () => SpawnOwerride);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Bhd25PdmVycmlkZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9TcGF3bk92ZXJyaWRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDdkQsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRTVDLE9BQU8sRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQThCLGVBQWUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNuSCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVyRCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FHekI7SUFDSixXQUFXLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtJQUMvQyxXQUFXLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtJQUM5QyxTQUFTLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtJQUM1QyxhQUFhLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtDQUNsRCxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBRXhCO0lBQ0osRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FB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TSxDQUFDLE9BQU8sQ0FBQyxHQUFRO1FBRXRCLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUM7SUFFdEQsQ0FBQztDQUVEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3pDb2xvckl0ZW0gfSBmcm9tIFwiLi9zaGFwZXN0L2NvbG9yLmpzXCI7XHJcbmltcG9ydCB7IFN6RGVmaW5pdGlvbiB9IGZyb20gXCIuL3NoYXBlc3QvZGVmaW5pdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBTekluZm8gfSBmcm9tIFwiLi9zaGFwZXN0L2xheWVyLmpzXCI7XHJcbmltcG9ydCB7IHN6U2hhcGVIYXNoIH0gZnJvbSBcIi4vc2hhcGVzdC9TekNvbnRleHQyRC5qc1wiO1xyXG5pbXBvcnQgeyBCYXNlSXRlbSwgY2xhbXAsIGdsb2JhbENvbmZpZywgTWFwQ2h1bmssIE1vZCwgUmFuZG9tTnVtYmVyR2VuZXJhdG9yLCBTaGFwZURlZmluaXRpb24gfSBmcm9tIFwiLi9zaGFwZXouanNcIjtcclxuaW1wb3J0IHsgRXh0ZW5kU3VwZXJjbGFzcyB9IGZyb20gXCIuL3R5cGVzL2NvbW1vbi5qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNoYXBlUGF0Y2hDaGFuY2VzXHJcblx0OiBQYXJ0aWFsPFJlY29yZDxTekluZm8ucXVhZC5uYW1lZCxcclxuXHRcdHsgYmFzZTogbnVtYmVyLCBncm93dGg6IG51bWJlciwgY2FwOiBudW1iZXIgfT5cclxuXHQ+ID0ge1xyXG5cdGNpcmNsZVNwYXduOiB7IGJhc2U6IDEwMCwgZ3Jvd3RoOiAzLCBjYXA6IDEwMCB9LFxyXG5cdHNxdWFyZVNwYXduOiB7IGJhc2U6IDcwLCBncm93dGg6IDIsIGNhcDogMTAwIH0sXHJcblx0c3RhclNwYXduOiB7IGJhc2U6IDMwLCBncm93dGg6IDEsIGNhcDogMTAwIH0sXHJcblx0d2luZG1pbGxTcGF3bjogeyBiYXNlOiAyMCwgZ3Jvd3RoOiAwLjUsIGNhcDogMTAwIH0sXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwcmVkZWZpbmVkUGF0Y2hlczoge1xyXG5cdHg6IG51bWJlciwgeTogbnVtYmVyLCBpdGVtOiBCYXNlSXRlbSB8IHN6U2hhcGVIYXNoLCBkeD86IG51bWJlciwgZHk/OiBudW1iZXIsXHJcbn1bXSA9IFtcclxuXHRcdHsgeDogMCwgeTogMCwgaXRlbTogU3pDb2xvckl0ZW0uZnJvbUNvbG9yKCdyZWQnKSwgZHg6IDcsIGR5OiA3IH0sXHJcblx0XHR7IHg6IC0xLCB5OiAwLCBpdGVtOiBTekluZm8ucXVhZC5uYW1lZC5jaXJjbGVTcGF3biwgZHg6IC05LCBkeTogNyB9LFxyXG5cdFx0eyB4OiAwLCB5OiAtMSwgaXRlbTogU3pJbmZvLnF1YWQubmFtZWQuc3F1YXJlU3Bhd24sIGR4OiA1LCBkeTogLTcgfSxcclxuXHRcdHsgeDogLTEsIHk6IC0xLCBpdGVtOiBTekNvbG9ySXRlbS5mcm9tQ29sb3IoJ2dyZWVuJykgfSxcclxuXHRcdHsgeDogNSwgeTogLTIsIGl0ZW06IFN6SW5mby5xdWFkLm5hbWVkLnN0YXJTcGF3biwgZHg6IDUsIGR5OiAtNyB9LFxyXG5cdF07XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTcGF3bk93ZXJyaWRlIGV4dGVuZHMgTWFwQ2h1bmsge1xyXG5cdGludGVybmFsR2VuZXJhdGVDb2xvclBhdGNoKHJuZzogUmFuZG9tTnVtYmVyR2VuZXJhdG9yLCBjb2xvclBhdGNoU2l6ZTogbnVtYmVyLCBkaXN0YW5jZVRvT3JpZ2luSW5DaHVua3M6IG51bWJlcikge1xyXG5cdFx0Y29uc29sZS5sb2codGhpcylcclxuXHRcdGxldCBhdmFpbGFibGUgPSBbJ3JlZCcsICdncmVlbiddO1xyXG5cdFx0aWYgKGRpc3RhbmNlVG9PcmlnaW5JbkNodW5rcyA+IDIpIGF2YWlsYWJsZS5wdXNoKCdibHVlJyk7XHJcblx0XHR0aGlzLmludGVybmFsR2VuZXJhdGVQYXRjaChybmcsIGNvbG9yUGF0Y2hTaXplLCBTekNvbG9ySXRlbS5mcm9tQ29sb3Iocm5nLmNob2ljZShhdmFpbGFibGUpKSk7XHJcblx0fVxyXG5cdGludGVybmFsR2VuZXJhdGVTaGFwZVBhdGNoKHJuZzogUmFuZG9tTnVtYmVyR2VuZXJhdG9yLCBzaGFwZVBhdGNoU2l6ZTogbnVtYmVyLCBkaXN0YW5jZVRvT3JpZ2luSW5DaHVua3M6IG51bWJlcikge1xyXG5cdFx0bGV0IGRUb0NoYW5jZSA9IChiYXNlOiBudW1iZXIsIGdyb3c6IG51bWJlciwgbWF4VG90YWw6IG51bWJlcikgPT5cclxuXHRcdFx0TWF0aC5yb3VuZChiYXNlICsgY2xhbXAoZGlzdGFuY2VUb09yaWdpbkluQ2h1bmtzICogZ3JvdywgMCwgbWF4VG90YWwgLSBiYXNlKSk7XHJcblxyXG5cdFx0Y29uc3QgcXVhZHMgPSBTekluZm8ucXVhZC5ieU5hbWU7XHJcblxyXG5cdFx0Y29uc3Qgc2hhcGVzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHNoYXBlUGF0Y2hDaGFuY2VzKS5tYXAoKFtrLCB7IGJhc2UsIGdyb3d0aCwgY2FwIH1dKSA9PiBbXHJcblx0XHRcdFtrLCBkVG9DaGFuY2UoYmFzZSwgZ3Jvd3RoLCBjYXApXVxyXG5cdFx0XSkpXHJcblxyXG5cdFx0bGV0IHNoYXBlID0gdGhpcy5pbnRlcm5hbEdlbmVyYXRlUmFuZG9tU3ViU2hhcGUocm5nLCBzaGFwZXMpO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKHRoaXMpXHJcblxyXG5cdFx0Ly8gQHRzLWlnbm9yZVxyXG5cdFx0Y29uc3QgZGVmaW5pdGlvbiA9IFN6RGVmaW5pdGlvbi5mcm9tU2hvcnRLZXkoU3pJbmZvLnF1YWQubmFtZWRbc2hhcGUgKyAnU3Bhd24nXSk7XHJcblx0XHR0aGlzLmludGVybmFsR2VuZXJhdGVQYXRjaChcclxuXHRcdFx0cm5nLFxyXG5cdFx0XHRzaGFwZVBhdGNoU2l6ZSxcclxuXHRcdFx0dGhpcy5yb290LnNoYXBlRGVmaW5pdGlvbk1nci5nZXRTaGFwZUl0ZW1Gcm9tRGVmaW5pdGlvbihkZWZpbml0aW9uKVxyXG5cdFx0KTtcclxuXHR9XHJcblx0Z2VuZXJhdGVQcmVkZWZpbmVkKHJuZzogUmFuZG9tTnVtYmVyR2VuZXJhdG9yKSB7XHJcblx0XHRsZXQgZGVmID0gcHJlZGVmaW5lZFBhdGNoZXMuZmluZChwID0+IHAueCA9PSB0aGlzLnggJiYgcC55ID09IHRoaXMueSk7XHJcblx0XHRpZiAoIWRlZikgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdGxldCBpdGVtID0gZGVmLml0ZW0gaW5zdGFuY2VvZiBCYXNlSXRlbSA/IGRlZi5pdGVtXHJcblx0XHRcdDogdGhpcy5yb290LnNoYXBlRGVmaW5pdGlvbk1nci5nZXRTaGFwZUl0ZW1Gcm9tRGVmaW5pdGlvbihTaGFwZURlZmluaXRpb24uZnJvbVNob3J0S2V5KGRlZi5pdGVtKSk7XHJcblxyXG5cdFx0bGV0IGR4ID0gZGVmLmR4ID09IG51bGwgPyBudWxsIGFzIGFueSA6IGRlZi5keCArIChkZWYuZHggPiAwID8gMCA6IGdsb2JhbENvbmZpZy5tYXBDaHVua1NpemUpO1xyXG5cdFx0bGV0IGR5ID0gZGVmLmR5ID09IG51bGwgPyBudWxsIGFzIGFueSA6IGRlZi5keSArIChkZWYuZHkgPiAwID8gMCA6IGdsb2JhbENvbmZpZy5tYXBDaHVua1NpemUpO1xyXG5cclxuXHRcdHRoaXMuaW50ZXJuYWxHZW5lcmF0ZVBhdGNoKHJuZywgMiwgaXRlbSwgZHgsIGR5KTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGluc3RhbGwobW9kOiBNb2QpIHtcclxuXHJcblx0XHRFeHRlbmRTdXBlcmNsYXNzKG1vZCwgTWFwQ2h1bmssICgpID0+IFNwYXduT3dlcnJpZGUpO1xyXG5cclxuXHR9XHJcblxyXG59Il19