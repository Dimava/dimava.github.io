var Zn=Object.defineProperty;var Qn=(t,e,n)=>e in t?Zn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var S=(t,e,n)=>(Qn(t,typeof e!="symbol"?e+"":e,n),n);import{F as at,c as D,G as P,I as z,J as G,Y as We,Z as ze,V as w,_ as xt,$ as Ge,r as T,b as $e,g as Tt,o as Ue,D as He,a0 as Jn,a1 as ts,w as C,a2 as es,C as J,h as kt,a3 as ns,a4 as ss,O as rs,M as j,N as L,L as is,X as os,a5 as as,R as Mt,K as Ke,T as Dt,S as de,a6 as cs,Q as k,e as q,d as pe,f as ls,B as us}from"./index.2b61f480.js";import{c as fs,h as ds}from"./render.e954c502.js";const ps=at({__name:"ZGrid",props:{cols:null},setup(t){const e=t,n=D(()=>({"--grid-cols":Number(e.cols)>0?e.cols:void 0}));return(s,r)=>(P(),z(xt("grid"),{style:ze(w(n))},{default:G(()=>[We(s.$slots,"default")]),_:3},8,["style"]))}});const hs={};function ms(t,e){return P(),z(xt("grid-row"),null,{default:G(()=>[We(t.$slots,"default")]),_:3})}var gs=Ge(hs,[["render",ms]]);function ys(){try{return"constructor"in GestureEvent}catch{return!1}}function Ye(){return typeof window!="undefined"&&"ontouchstart"in window}function qe(t){return"pointerId"in t?null:t.type==="touchend"?t.changedTouches:t.targetTouches}function Xe(t){return Array.from(qe(t)).map(e=>e.identifier)}function he(t){const e="buttons"in t?t.buttons:0,{shiftKey:n,altKey:s,metaKey:r,ctrlKey:i}=t;return{buttons:e,shiftKey:n,altKey:s,metaKey:r,ctrlKey:i}}const vs=t=>t;function me(t,e=vs){const n=qe(t),{clientX:s,clientY:r}=n?n[0]:t;return e([s,r])}function Ze(){}function Qe(...t){return t.length===0?Ze:t.length===1?t[0]:function(){var e;for(let n of t)e=n.apply(this,arguments)||e;return e}}function F(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function ge(t,...e){return typeof t=="function"?t(...e):t}function tt(t){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Ze,canceled:!1,memo:void 0,args:void 0,...t}}function Je(){const t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},e=tt({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=tt({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=tt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=tt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=tt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:s,move:r,scroll:i}}class bs{constructor(e){this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=Ye(),this.supportsGestureEvents=ys(),this.bind=(...n)=>{const s={};for(let r of this.classes)new r(this,n).addBindings(s);for(let r in this.nativeRefs)V(s,r,i=>this.nativeRefs[r]({...this.state.shared,event:i,args:n}));return this.config.domTarget?Ss(this,s):Is(this,s)},this.clean=()=>{const{eventOptions:n,domTarget:s}=this.config,r=w(s);r&&ct(r,tn(this.domListeners),n),Object.values(this.timeouts).forEach(clearTimeout),xs(this)},this.classes=e,this.state=Je(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function _s(t,e){"pointerId"in e?t.pointerIds.add(e.pointerId):t.touchIds=new Set(Xe(e))}function Os(t,e){"pointerId"in e?t.pointerIds.delete(e.pointerId):Xe(e).forEach(n=>t.touchIds.delete(n))}function xs(t){const{config:{window:e,eventOptions:n},windowListeners:s}=t,r=w(e);if(!!r){for(let i in s){const o=s[i];ct(r,o,n)}t.windowListeners={}}}function Ts({config:t,windowListeners:e},n,s=t.eventOptions){const r=w(t.window);!r||(ct(r,e[n],s),delete e[n])}function ws({config:t,windowListeners:e},n,s=[],r=t.eventOptions){const i=w(t.window);!i||(ct(i,e[n],r),en(i,e[n]=s,r))}function Ss({config:t,domListeners:e},n){const{eventOptions:s,domTarget:r}=t,i=w(r);if(!i)throw new Error("domTarget must be defined");ct(i,tn(e),s);for(let[o,a]of Object.entries(n)){const c=o.slice(2).toLowerCase();e.push([c,Qe(...a)])}en(i,e,s)}function Is({config:t},e){const n={},s=t.eventOptions.capture?"Capture":"";for(let[r,i]of Object.entries(e)){const o=Array.isArray(i)?i:[i],a=r+s;n[a]=Qe(...o)}return n}function tn(t=[]){return t.splice(0,t.length)}function V(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function en(t,e=[],n={}){if(!!t)for(let[s,r]of e)t.addEventListener(s,r,n)}function ct(t,e=[],n={}){if(!!t)for(let[s,r]of e)t.removeEventListener(s,r,n)}function Nt(t,e){return t.map((n,s)=>n+e[s])}function nn(t,e){return t.map((n,s)=>n-e[s])}function Lt(t){return Math.hypot(...t)}function Es(t,e,n){const s=Lt(e),r=s===0?0:1/s,i=n===0?0:1/n,o=i*s,a=e.map(u=>i*u),c=e.map(u=>r*u),l=Lt(t);return{velocities:a,velocity:o,distance:l,direction:c}}function Ft(t){return Math.sign?Math.sign(t):Number(t>0)-Number(t<0)||+t}function Ms(t,e,n){return Math.max(e,Math.min(t,n))}function Ds(t,e){return Math.pow(t,e*5)}function ye(t,e,n){return e===0||Math.abs(e)===1/0?Ds(t,n):t*e*n/(e+n*t)}function ve(t,e,n,s=.15){return s===0?Ms(t,e,n):t<e?-ye(e-t,n-e,s)+e:t>n?+ye(t-n,n-e,s)+n:t}const H=new Map,Cs=t=>t;class As{constructor(e,n=[]){this.controller=e,this.args=n,this.debounced=!0,this.setTimeout=(s,r=140,...i)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,r,...i)},this.clearTimeout=()=>{clearTimeout(this.controller.timeouts[this.stateKey])},this.fireGestureHandler=(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const c=this.state.active,l=this.state._active;this.state.active=l,this.state.first=l&&!c,this.state.last=c&&!l,this.controller.state.shared[this.ingKey]=l}const r=this.controller.pointerIds.size||this.controller.touchIds.size,i=this.controller.state.shared.buttons>0||r>0,o={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:r,down:i},a=this.handler(o);return this.state.memo=a!==void 0?a:this.state.memo,o},this.controller=e,this.args=n}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||Cs}updateSharedState(e){Object.assign(this.controller.state.shared,e)}updateGestureState(e){Object.assign(this.state,e)}checkIntentionality(e,n){return{_intentional:e,_blocked:!1}}getMovement(e){const{rubberband:n,threshold:s}=this.config,{_bounds:r,_initial:i,_active:o,_intentional:a,lastOffset:c,movement:l}=this.state,u=this.getInternalMovement(e,this.state),f=this.transform(s).map(Math.abs),d=a[0]===!1?be(u[0],f[0]):a[0],h=a[1]===!1?be(u[1],f[1]):a[1],g=this.checkIntentionality([d,h],u);if(g._blocked)return{...g,_movement:u,delta:[0,0]};const p=g._intentional,v=u;let b=[p[0]!==!1?u[0]-p[0]:0,p[1]!==!1?u[1]-p[1]:0];const O=Nt(b,c),m=o?n:[0,0];return b=_e(r,Nt(b,i),m),{...g,intentional:p[0]!==!1||p[1]!==!1,_initial:i,_movement:v,movement:b,values:e,offset:_e(r,O,m),delta:nn(b,l)}}clean(){this.clearTimeout()}}function be(t,e){return Math.abs(t)>=e?Ft(t)*e:!1}function _e(t,[e,n],[s,r]){const[[i,o],[a,c]]=t;return[ve(e,i,o,s),ve(n,a,c,r)]}function Ct({state:t},e,n){const{timeStamp:s,type:r}=e,i=t.values,o=n?0:s-t.startTime;return{_lastEventType:r,event:e,timeStamp:s,elapsedTime:o,previous:i}}function Ps({state:t,config:e,stateKey:n,args:s},r,i){const o=t.offset,a=i.timeStamp,{initial:c,bounds:l}=e,u={...Je()[n],_active:!0,args:s,values:r,initial:r,offset:o,lastOffset:o,startTime:a};return{...u,_initial:ge(c,u),_bounds:ge(l,u)}}class Vs extends As{getInternalMovement(e,n){return nn(e,n.initial)}checkIntentionality(e,n){if(e[0]===!1&&e[1]===!1)return{_intentional:e,axis:this.state.axis};const[s,r]=n.map(Math.abs),i=this.state.axis||(s>r?"x":s<r?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:e,_blocked:!1,axis:i}:i?!!this.config.axis&&i!==this.config.axis?{_intentional:e,_blocked:!0,axis:i}:(e[i==="x"?1:0]=!1,{_intentional:e,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}}getKinematics(e,n){const s=this.getMovement(e);if(!s._blocked){const r=n.timeStamp-this.state.timeStamp;Object.assign(s,Es(s.movement,s.delta,r))}return s}mapStateValues(e){return{xy:e.values,vxvy:e.velocities}}}const js=3;function Oe(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}class Rs extends Vs{constructor(){super(...arguments),this.ingKey="dragging",this.stateKey="drag",this.setPointerCapture=e=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:n,pointerId:s}=e;n&&"setPointerCapture"in n&&n.setPointerCapture(s),this.updateGestureState({_dragTarget:n,_dragPointerId:s})},this.releasePointerCapture=()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:e,_dragPointerId:n}=this.state;if(n&&e&&"releasePointerCapture"in e&&(!("hasPointerCapture"in e)||e.hasPointerCapture(n)))try{e.releasePointerCapture(n)}catch{}},this.preventScroll=e=>{this.state._dragPreventScroll&&e.cancelable&&e.preventDefault()},this.getEventId=e=>this.config.useTouch?e.changedTouches[0].identifier:e.pointerId,this.isValidEvent=e=>this.state._pointerId===this.getEventId(e),this.shouldPreventWindowScrollY=this.config.preventWindowScrollY&&this.controller.supportsTouchEvents,this.setUpWindowScrollDetection=e=>{Oe(e),ws(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,e)},this.setUpDelayedDragTrigger=e=>{this.state._dragDelayed=!0,Oe(e),this.setTimeout(this.startDrag.bind(this),this.config.delay,e)},this.setStartState=e=>{const n=me(e,this.transform);this.updateSharedState(he(e)),this.updateGestureState({...Ps(this,n,e),...Ct(this,e,!0),_pointerId:this.getEventId(e)}),this.updateGestureState(this.getMovement(n))},this.onDragStart=e=>{_s(this.controller,e),!(!this.enabled||this.state._active)&&(this.setStartState(e),this.setPointerCapture(e),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(e):this.config.delay>0?this.setUpDelayedDragTrigger(e):this.startDrag(e,!0))},this.onDragChange=e=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(e)||this.state._lastEventType===e.type&&e.timeStamp===this.state.timeStamp)return;let n;if(document.pointerLockElement){const{movementX:c,movementY:l}=e;n=Nt(this.transform([c,l]),this.state.values)}else n=me(e,this.transform);const s=this.getKinematics(n,e);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(e);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(e);else{this.state._active=!1;return}else return;else return}const r=he(e);this.updateSharedState(r);const i=Ct(this,e),o=Lt(s._movement);let{_dragIsTap:a}=this.state;a&&o>=js&&(a=!1),this.updateGestureState({...i,...s,_dragIsTap:a}),this.fireGestureHandler()},this.onDragEnd=e=>{if(Os(this.controller,e),!this.isValidEvent(e)||(this.clean(),!this.state._active))return;this.state._active=!1;const n=this.state._dragIsTap,[s,r]=this.state.velocities,[i,o]=this.state.movement,[a,c]=this.state._intentional,[l,u]=this.config.swipeVelocity,[f,d]=this.config.swipeDistance,h=this.config.swipeDuration,g={...Ct(this,e),...this.getMovement(this.state.values)},p=[0,0];g.elapsedTime<h&&(a!==!1&&Math.abs(s)>l&&Math.abs(i)>f&&(p[0]=Ft(s)),c!==!1&&Math.abs(r)>u&&Math.abs(o)>d&&(p[1]=Ft(r))),this.updateSharedState({buttons:0}),this.updateGestureState({...g,tap:n,swipe:p}),this.fireGestureHandler(this.config.filterTaps&&n===!0)},this.clean=()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),Ts(this.controller,this.stateKey)},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),$e(this.fireGestureHandler))},this.onClick=e=>{this.state._dragIsTap||e.stopPropagation()}}startDrag(e,n=!1){!this.state._active||this.state._dragStarted||(n||this.setStartState(e),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(e){if(this.config.useTouch?(V(e,"onTouchStart",this.onDragStart),V(e,"onTouchMove",this.onDragChange),V(e,"onTouchEnd",this.onDragEnd),V(e,"onTouchCancel",this.onDragEnd)):(V(e,"onPointerDown",this.onDragStart),V(e,"onPointerMove",this.onDragChange),V(e,"onPointerUp",this.onDragEnd),V(e,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const n=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";V(e,n,this.onClick)}}}function ks(t,e){let n,s=[],r,i=!1;function o(...a){return i&&n===this&&e(a,s)||(r=t.apply(this,a),i=!0,n=this,s=a),r}return o}function yt(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,s,r;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!yt(t[s],e[s]))return!1;return!0}let i;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;for(i=t.entries();!(s=i.next()).done;)if(!yt(s.value[1],e.get(s.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[s]))return!1;if(typeof Element!="undefined"&&t instanceof Element)return!1;for(s=n;s--!==0;)if(!(r[s]==="_owner"&&t.$$typeof)&&!yt(t[r[s]],e[r[s]]))return!1;return!0}return t!==t&&e!==e}function Ns(t,e){try{return yt(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function Zt(t={},e){const n={};for(const[s,r]of Object.entries(e))switch(typeof r){case"function":n[s]=r.call(n,t[s],s,t);break;case"object":n[s]=Zt(t[s],r);break;case"boolean":r&&(n[s]=t[s]);break}return n}const Ls=180,Fs=.15,Bs=.5,Ws=50,zs=250,Gs={threshold(t=0){return F(t)},rubberband(t=0){switch(t){case!0:return F(Fs);case!1:return F(0);default:return F(t)}},enabled(t=!0){return t},triggerAllEvents(t=!1){return t},initial(t=0){return typeof t=="function"?t:F(t)},transform:!0},sn={...Gs,axis:!0,lockDirection(t=!1){return t},bounds(t={}){if(typeof t=="function")return i=>sn.bounds(t(i));const{left:e=-1/0,right:n=1/0,top:s=-1/0,bottom:r=1/0}=t;return[[e,n],[s,r]]}},$s=typeof window!="undefined"&&window.document&&window.document.createElement,Us={enabled(t=!0){return t},domTarget:!0,window(t=$s?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform:!0},Hs={...sn,useTouch(t=!0){return t&&Ye()},preventWindowScrollY(t=!1){return t},threshold(t,e,{filterTaps:n=!1,lockDirection:s=!1,axis:r=void 0}){const i=F(t,n?3:s||r?1:0);return this.filterTaps=n,i},swipeVelocity(t=Bs){return F(t)},swipeDistance(t=Ws){return F(t)},swipeDuration(t=zs){return t},delay(t=0){switch(t){case!0:return Ls;case!1:return 0;default:return t}}};function Ks(t){return Zt(t,Us)}function Ys(t={}){return Zt(t,Hs)}function qs({domTarget:t,eventOptions:e,window:n,enabled:s,...r}){const i=Ks({domTarget:t,eventOptions:e,window:n,enabled:s});return i.drag=Ys(r),i}function Xs(t,e,n={}){const s=Zs(t),r=new bs(s);return r.config=e,r.handlers=t,r.nativeRefs=n,Tt()&&!e.manual&&(Ue(r.bind),He(r.clean)),r}function Zs(t){const e=new Set;return t.drag&&e.add(H.get("drag")),t.wheel&&e.add(H.get("wheel")),t.scroll&&e.add(H.get("scroll")),t.move&&e.add(H.get("move")),t.pinch&&e.add(H.get("pinch")),t.hover&&e.add(H.get("hover")),e}function Qs(t,e={}){H.set("drag",Rs);const n=T();return n.value||(n.value=ks(qs,Ns)),Xs({drag:t},n.value(e))}var xe;const lt=typeof window!="undefined",Js=Object.prototype.toString,tr=t=>typeof t=="string",er=t=>Js.call(t)==="[object Object]",Z=()=>{};lt&&((xe=window==null?void 0:window.navigator)==null?void 0:xe.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function nr(t){return typeof t=="function"?t():w(t)}function sr(t){return t}function rn(t){return Jn()?(ts(t),!0):!1}function rr(t,e=!0){Tt()?Ue(t):e?t():$e(t)}function ir(t){Tt()&&He(t)}function rt(t){var e;const n=nr(t);return(e=n==null?void 0:n.$el)!=null?e:n}const wt=lt?window:void 0;lt&&window.document;lt&&window.navigator;lt&&window.location;function E(...t){let e,n,s,r;if(tr(t[0])?([n,s,r]=t,e=wt):[e,n,s,r]=t,!e)return Z;let i=Z;const o=C(()=>rt(e),c=>{i(),c&&(c.addEventListener(n,s,r),i=()=>{c.removeEventListener(n,s,r),i=Z})},{immediate:!0,flush:"post"}),a=()=>{o(),i()};return rn(a),a}function or(t,e=!1){const n=T(),s=()=>n.value=Boolean(t());return s(),rr(s,e),n}const Bt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Wt="__vueuse_ssr_handlers__";Bt[Wt]=Bt[Wt]||{};Bt[Wt];function ar(t,e,n={}){const{root:s,rootMargin:r="0px",threshold:i=.1,window:o=wt}=n,a=or(()=>o&&"IntersectionObserver"in o);let c=Z;const l=a.value?C(()=>({el:rt(t),root:rt(s)}),({el:f,root:d})=>{if(c(),!f)return;const h=new IntersectionObserver(e,{root:d,rootMargin:r,threshold:i});h.observe(f),c=()=>{h.disconnect(),c=Z}},{immediate:!0,flush:"post"}):Z,u=()=>{c(),l()};return rn(u),{isSupported:a,stop:u}}function cr(t={}){const{type:e="page",touch:n=!0,resetOnTouchEnds:s=!1,initialValue:r={x:0,y:0},window:i=wt,eventFilter:o}=t,a=T(r.x),c=T(r.y),l=T(null),u=p=>{e==="page"?(a.value=p.pageX,c.value=p.pageY):e==="client"&&(a.value=p.clientX,c.value=p.clientY),l.value="mouse"},f=()=>{a.value=r.x,c.value=r.y},d=p=>{if(p.touches.length>0){const v=p.touches[0];e==="page"?(a.value=v.pageX,c.value=v.pageY):e==="client"&&(a.value=v.clientX,c.value=v.clientY),l.value="touch"}},h=p=>o===void 0?u(p):o(()=>u(p),{}),g=p=>o===void 0?d(p):o(()=>d(p),{});return i&&(E(i,"mousemove",h,{passive:!0}),E(i,"dragover",h,{passive:!0}),n&&(E(i,"touchstart",g,{passive:!0}),E(i,"touchmove",g,{passive:!0}),s&&E(i,"touchend",f,{passive:!0}))),{x:a,y:c,sourceType:l}}function lr(t,e={}){const{handleOutside:n=!0,window:s=wt}=e,{x:r,y:i,sourceType:o}=cr(e),a=T(t!=null?t:s==null?void 0:s.document.body),c=T(0),l=T(0),u=T(0),f=T(0),d=T(0),h=T(0),g=T(!0);let p=()=>{};return s&&(p=C([a,r,i],()=>{const v=rt(a);if(!v)return;const{left:b,top:O,width:m,height:_}=v.getBoundingClientRect();u.value=b+s.pageXOffset,f.value=O+s.pageYOffset,d.value=_,h.value=m;const x=r.value-u.value,I=i.value-f.value;g.value=m===0||_===0||x<0||I<0||x>m||I>_,(n||!g.value)&&(c.value=x,l.value=I)},{immediate:!0})),{x:r,y:i,sourceType:o,elementX:c,elementY:l,elementPositionX:u,elementPositionY:f,elementHeight:d,elementWidth:h,isOutside:g,stop:p}}var Te;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Te||(Te={}));var ur=Object.defineProperty,we=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,Se=(t,e,n)=>e in t?ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pr=(t,e)=>{for(var n in e||(e={}))fr.call(e,n)&&Se(t,n,e[n]);if(we)for(var n of we(e))dr.call(e,n)&&Se(t,n,e[n]);return t};const hr={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};pr({linear:sr},hr);const on=1/60*1e3,mr=typeof performance!="undefined"?()=>performance.now():()=>Date.now(),an=typeof window!="undefined"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(mr()),on);function gr(t){let e=[],n=[],s=0,r=!1,i=!1;const o=new WeakSet,a={schedule:(c,l=!1,u=!1)=>{const f=u&&r,d=f?e:n;return l&&o.add(c),d.indexOf(c)===-1&&(d.push(c),f&&r&&(s=e.length)),c},cancel:c=>{const l=n.indexOf(c);l!==-1&&n.splice(l,1),o.delete(c)},process:c=>{if(r){i=!0;return}if(r=!0,[e,n]=[n,e],n.length=0,s=e.length,s)for(let l=0;l<s;l++){const u=e[l];u(c),o.has(u)&&(a.schedule(u),t())}r=!1,i&&(i=!1,a.process(c))}};return a}const yr=40;let zt=!0,it=!1,Gt=!1;const Q={delta:0,timestamp:0},ut=["read","update","preRender","render","postRender"],St=ut.reduce((t,e)=>(t[e]=gr(()=>it=!0),t),{}),$t=ut.reduce((t,e)=>{const n=St[e];return t[e]=(s,r=!1,i=!1)=>(it||_r(),n.schedule(s,r,i)),t},{}),vr=ut.reduce((t,e)=>(t[e]=St[e].cancel,t),{});ut.reduce((t,e)=>(t[e]=()=>St[e].process(Q),t),{});const br=t=>St[t].process(Q),cn=t=>{it=!1,Q.delta=zt?on:Math.max(Math.min(t-Q.timestamp,yr),1),Q.timestamp=t,Gt=!0,ut.forEach(br),Gt=!1,it&&(zt=!1,an(cn))},_r=()=>{it=!0,zt=!0,Gt||an(cn)},ln=()=>Q;function un(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}var Or=function(){},Ie=function(){};const Ut=(t,e,n)=>Math.min(Math.max(n,t),e),At=.001,xr=.01,Ee=10,Tr=.05,wr=1;function Sr({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,i;Or(t<=Ee*1e3);let o=1-e;o=Ut(Tr,wr,o),t=Ut(xr,Ee,t/1e3),o<1?(r=l=>{const u=l*o,f=u*t,d=u-n,h=Ht(l,o),g=Math.exp(-f);return At-d/h*g},i=l=>{const f=l*o*t,d=f*n+n,h=Math.pow(o,2)*Math.pow(l,2)*t,g=Math.exp(-f),p=Ht(Math.pow(l,2),o);return(-r(l)+At>0?-1:1)*((d-h)*g)/p}):(r=l=>{const u=Math.exp(-l*t),f=(l-n)*t+1;return-At+u*f},i=l=>{const u=Math.exp(-l*t),f=(n-l)*(t*t);return u*f});const a=5/t,c=Er(r,i,a);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*s;return{stiffness:l,damping:o*2*Math.sqrt(s*l),duration:t}}}const Ir=12;function Er(t,e,n){let s=n;for(let r=1;r<Ir;r++)s=s-t(s)/e(s);return s}function Ht(t,e){return t*Math.sqrt(1-e*e)}const Mr=["duration","bounce"],Dr=["stiffness","damping","mass"];function Me(t,e){return e.some(n=>t[n]!==void 0)}function Cr(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Me(t,Dr)&&Me(t,Mr)){const n=Sr(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Qt(t){var{from:e=0,to:n=1,restSpeed:s=2,restDelta:r}=t,i=un(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:d}=Cr(i),h=De,g=De;function p(){const v=u?-(u/1e3):0,b=n-e,O=c/(2*Math.sqrt(a*l)),m=Math.sqrt(a/l)/1e3;if(r===void 0&&(r=Math.min(Math.abs(n-e)/100,.4)),O<1){const _=Ht(m,O);h=x=>{const I=Math.exp(-O*m*x);return n-I*((v+O*m*b)/_*Math.sin(_*x)+b*Math.cos(_*x))},g=x=>{const I=Math.exp(-O*m*x);return O*m*I*(Math.sin(_*x)*(v+O*m*b)/_+b*Math.cos(_*x))-I*(Math.cos(_*x)*(v+O*m*b)-_*b*Math.sin(_*x))}}else if(O===1)h=_=>n-Math.exp(-m*_)*(b+(v+m*b)*_);else{const _=m*Math.sqrt(O*O-1);h=x=>{const I=Math.exp(-O*m*x),R=Math.min(_*x,300);return n-I*((v+O*m*b)*Math.sinh(R)+_*b*Math.cosh(R))/_}}}return p(),{next:v=>{const b=h(v);if(d)o.done=v>=f;else{const O=g(v)*1e3,m=Math.abs(O)<=s,_=Math.abs(n-b)<=r;o.done=m&&_}return o.value=o.done?n:b,o},flipTarget:()=>{u=-u,[e,n]=[n,e],p()}}}Qt.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const De=t=>0,fn=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},Jt=(t,e,n)=>-n*t+n*e+t,dn=(t,e)=>n=>Math.max(Math.min(n,e),t),et=t=>t%1?Number(t.toFixed(5)):t,ot=/(-)?([\d]*\.?[\d])+/g,Kt=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ar=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ft(t){return typeof t=="string"}const dt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nt=Object.assign(Object.assign({},dt),{transform:dn(0,1)}),mt=Object.assign(Object.assign({},dt),{default:1}),te=t=>({test:e=>ft(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$=te("deg"),st=te("%"),y=te("px"),Ce=Object.assign(Object.assign({},st),{parse:t=>st.parse(t)/100,transform:t=>st.transform(t*100)}),ee=(t,e)=>n=>Boolean(ft(n)&&Ar.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),pn=(t,e,n)=>s=>{if(!ft(s))return s;const[r,i,o,a]=s.match(ot);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},K={test:ee("hsl","hue"),parse:pn("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+st.transform(et(e))+", "+st.transform(et(n))+", "+et(nt.transform(s))+")"},Pr=dn(0,255),Pt=Object.assign(Object.assign({},dt),{transform:t=>Math.round(Pr(t))}),B={test:ee("rgb","red"),parse:pn("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Pt.transform(t)+", "+Pt.transform(e)+", "+Pt.transform(n)+", "+et(nt.transform(s))+")"};function Vr(t){let e="",n="",s="",r="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),s=t.substr(5,2),r=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),s=t.substr(3,1),r=t.substr(4,1),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Yt={test:ee("#"),parse:Vr,transform:B.transform},M={test:t=>B.test(t)||Yt.test(t)||K.test(t),parse:t=>B.test(t)?B.parse(t):K.test(t)?K.parse(t):Yt.parse(t),transform:t=>ft(t)?t:t.hasOwnProperty("red")?B.transform(t):K.transform(t)},hn="${c}",mn="${n}";function jr(t){var e,n,s,r;return isNaN(t)&&ft(t)&&((n=(e=t.match(ot))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((r=(s=t.match(Kt))===null||s===void 0?void 0:s.length)!==null&&r!==void 0?r:0)>0}function gn(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const s=t.match(Kt);s&&(n=s.length,t=t.replace(Kt,hn),e.push(...s.map(M.parse)));const r=t.match(ot);return r&&(t=t.replace(ot,mn),e.push(...r.map(dt.parse))),{values:e,numColors:n,tokenised:t}}function yn(t){return gn(t).values}function vn(t){const{values:e,numColors:n,tokenised:s}=gn(t),r=e.length;return i=>{let o=s;for(let a=0;a<r;a++)o=o.replace(a<n?hn:mn,a<n?M.transform(i[a]):et(i[a]));return o}}const Rr=t=>typeof t=="number"?0:t;function kr(t){const e=yn(t);return vn(t)(e.map(Rr))}const pt={test:jr,parse:yn,createTransformer:vn,getAnimatableNone:kr},Nr=new Set(["brightness","contrast","saturate","opacity"]);function Lr(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ot)||[];if(!s)return t;const r=n.replace(s,"");let i=Nr.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const Fr=/([a-z-]*)\(.*?\)/g,qt=Object.assign(Object.assign({},pt),{getAnimatableNone:t=>{const e=t.match(Fr);return e?e.map(Lr).join(" "):t}});function Vt(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ae({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;r=Vt(c,a,t+1/3),i=Vt(c,a,t),o=Vt(c,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}const Br=(t,e,n)=>{const s=t*t,r=e*e;return Math.sqrt(Math.max(0,n*(r-s)+s))},Wr=[Yt,B,K],Pe=t=>Wr.find(e=>e.test(t)),bn=(t,e)=>{let n=Pe(t),s=Pe(e),r=n.parse(t),i=s.parse(e);n===K&&(r=Ae(r),n=B),s===K&&(i=Ae(i),s=B);const o=Object.assign({},r);return a=>{for(const c in o)c!=="alpha"&&(o[c]=Br(r[c],i[c],a));return o.alpha=Jt(r.alpha,i.alpha,a),n.transform(o)}},zr=t=>typeof t=="number",Gr=(t,e)=>n=>e(t(n)),_n=(...t)=>t.reduce(Gr);function On(t,e){return zr(t)?n=>Jt(t,e,n):M.test(t)?bn(t,e):Tn(t,e)}const xn=(t,e)=>{const n=[...t],s=n.length,r=t.map((i,o)=>On(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}},$r=(t,e)=>{const n=Object.assign(Object.assign({},t),e),s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=On(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}};function Ve(t){const e=pt.parse(t),n=e.length;let s=0,r=0,i=0;for(let o=0;o<n;o++)s||typeof e[o]=="number"?s++:e[o].hue!==void 0?i++:r++;return{parsed:e,numNumbers:s,numRGB:r,numHSL:i}}const Tn=(t,e)=>{const n=pt.createTransformer(e),s=Ve(t),r=Ve(e);return s.numHSL===r.numHSL&&s.numRGB===r.numRGB&&s.numNumbers>=r.numNumbers?_n(xn(s.parsed,r.parsed),n):o=>`${o>0?e:t}`},Ur=(t,e)=>n=>Jt(t,e,n);function Hr(t){if(typeof t=="number")return Ur;if(typeof t=="string")return M.test(t)?bn:Tn;if(Array.isArray(t))return xn;if(typeof t=="object")return $r}function Kr(t,e,n){const s=[],r=n||Hr(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;a=_n(c,a)}s.push(a)}return s}function Yr([t,e],[n]){return s=>n(fn(t,e,s))}function qr(t,e){const n=t.length,s=n-1;return r=>{let i=0,o=!1;if(r<=t[0]?o=!0:r>=t[s]&&(i=s-1,o=!0),!o){let c=1;for(;c<n&&!(t[c]>r||c===s);c++);i=c-1}const a=fn(t[i],t[i+1],r);return e[i](a)}}function wn(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;Ie(i===e.length),Ie(!s||!Array.isArray(s)||s.length===i-1),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Kr(e,s,r),a=i===2?Yr(t,o):qr(t,o);return n?c=>a(Ut(t[0],t[i-1],c)):a}const It=t=>e=>1-t(1-e),ne=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Xr=t=>e=>Math.pow(e,t),Sn=t=>e=>e*e*((t+1)*e-t),Zr=t=>{const e=Sn(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},In=1.525,Qr=4/11,Jr=8/11,ti=9/10,En=t=>t,se=Xr(2),ei=It(se),Mn=ne(se),Dn=t=>1-Math.sin(Math.acos(t)),Cn=It(Dn),ni=ne(Cn),re=Sn(In),si=It(re),ri=ne(re),ii=Zr(In),oi=4356/361,ai=35442/1805,ci=16061/1805,_t=t=>{if(t===1||t===0)return t;const e=t*t;return t<Qr?7.5625*e:t<Jr?9.075*e-9.9*t+3.4:t<ti?oi*e-ai*t+ci:10.8*t*t-20.52*t+10.72},li=It(_t),ui=t=>t<.5?.5*(1-_t(1-t*2)):.5*_t(t*2-1)+.5;function fi(t,e){return t.map(()=>e||Mn).splice(0,t.length-1)}function di(t){const e=t.length;return t.map((n,s)=>s!==0?s/(e-1):0)}function pi(t,e){return t.map(n=>n*e)}function vt({from:t=0,to:e=1,ease:n,offset:s,duration:r=300}){const i={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=pi(s&&s.length===o.length?s:di(o),r);function c(){return wn(a,o,{ease:Array.isArray(n)?n:fi(o,n)})}let l=c();return{next:u=>(i.value=l(u),i.done=u>=r,i),flipTarget:()=>{o.reverse(),l=c()}}}function hi({velocity:t=0,from:e=0,power:n=.8,timeConstant:s=350,restDelta:r=.5,modifyTarget:i}){const o={done:!1,value:e};let a=n*t;const c=e+a,l=i===void 0?c:i(c);return l!==c&&(a=l-e),{next:u=>{const f=-a*Math.exp(-u/s);return o.done=!(f>r||f<-r),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const je={keyframes:vt,spring:Qt,decay:hi};function mi(t){if(Array.isArray(t.to))return vt;if(je[t.type])return je[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?vt:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Qt:vt}function An(t,e,n=0){return t-e-n}function gi(t,e,n=0,s=!0){return s?An(e+-t,e,n):e-(t-e)+n}function yi(t,e,n,s){return s?t>=e+n:t<=-n}const vi=t=>{const e=({delta:n})=>t(n);return{start:()=>$t.update(e,!0),stop:()=>vr.update(e)}};function ie(t){var e,n,{from:s,autoplay:r=!0,driver:i=vi,elapsed:o=0,repeat:a=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:d,onRepeat:h,onUpdate:g}=t,p=un(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:v}=p,b,O=0,m=p.duration,_,x=!1,I=!0,R;const ht=mi(p);!((n=(e=ht).needsInterpolation)===null||n===void 0)&&n.call(e,s,v)&&(R=wn([0,100],[s,v],{clamp:!1}),s=0,v=100);const N=ht(Object.assign(Object.assign({},p),{from:s,to:v}));function Kn(){O++,c==="reverse"?(I=O%2===0,o=gi(o,m,l,I)):(o=An(o,m,l),c==="mirror"&&N.flipTarget()),x=!1,h&&h()}function Yn(){b.stop(),d&&d()}function qn(Et){if(I||(Et=-Et),o+=Et,!x){const fe=N.next(Math.max(0,o));_=fe.value,R&&(_=R(_)),x=I?fe.done:o<=0}g==null||g(_),x&&(O===0&&(m!=null||(m=o)),O<a?yi(o,m,l,I)&&Kn():Yn())}function Xn(){u==null||u(),b=i(qn),b.start()}return r&&Xn(),{stop:()=>{f==null||f(),b.stop()}}}function Pn(t,e){return e?t*(1e3/e):0}function bi({from:t=0,velocity:e=0,min:n,max:s,power:r=.8,timeConstant:i=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:c=1,modifyTarget:l,driver:u,onUpdate:f,onComplete:d,onStop:h}){let g;function p(m){return n!==void 0&&m<n||s!==void 0&&m>s}function v(m){return n===void 0?s:s===void 0||Math.abs(n-m)<Math.abs(s-m)?n:s}function b(m){g==null||g.stop(),g=ie(Object.assign(Object.assign({},m),{driver:u,onUpdate:_=>{var x;f==null||f(_),(x=m.onUpdate)===null||x===void 0||x.call(m,_)},onComplete:d,onStop:h}))}function O(m){b(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:c},m))}if(p(t))O({from:t,velocity:e,to:v(t)});else{let m=r*e+t;typeof l!="undefined"&&(m=l(m));const _=v(m),x=_===n?-1:1;let I,R;const ht=N=>{I=R,R=N,e=Pn(N-I,ln().delta),(x===1&&N>_||x===-1&&N<_)&&O({from:N,to:_,velocity:e})};b({type:"decay",from:t,velocity:e,timeConstant:i,power:r,restDelta:c,modifyTarget:l,onUpdate:p(m)?ht:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const Vn=(t,e)=>1-3*e+3*t,jn=(t,e)=>3*e-6*t,Rn=t=>3*t,Ot=(t,e,n)=>((Vn(e,n)*t+jn(e,n))*t+Rn(e))*t,kn=(t,e,n)=>3*Vn(e,n)*t*t+2*jn(e,n)*t+Rn(e),_i=1e-7,Oi=10;function xi(t,e,n,s,r){let i,o,a=0;do o=e+(n-e)/2,i=Ot(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>_i&&++a<Oi);return o}const Ti=8,wi=.001;function Si(t,e,n,s){for(let r=0;r<Ti;++r){const i=kn(e,n,s);if(i===0)return e;e-=(Ot(e,n,s)-t)/i}return e}const bt=11,gt=1/(bt-1);function Ii(t,e,n,s){if(t===e&&n===s)return En;const r=new Float32Array(bt);for(let o=0;o<bt;++o)r[o]=Ot(o*gt,t,n);function i(o){let a=0,c=1;const l=bt-1;for(;c!==l&&r[c]<=o;++c)a+=gt;--c;const u=(o-r[c])/(r[c+1]-r[c]),f=a+u*gt,d=kn(f,t,n);return d>=wi?Si(o,f,t,n):d===0?f:xi(o,a,a+gt,t,n)}return o=>o===0||o===1?o:Ot(i(o),e,s)}class Ei{constructor(){this.subscriptions=new Set}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,n,s){if(!!this.subscriptions.size)for(const r of this.subscriptions)r(e,n,s)}clear(){this.subscriptions.clear()}}const Re=t=>!isNaN(parseFloat(t));class Mi{constructor(e){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Ei,this.canTrackVelocity=!1,this.updateAndNotify=n=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:r}=ln();this.lastUpdated!==r&&(this.timeDelta=s,this.lastUpdated=r),$t.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>$t.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=Re(this.current)),n!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=e,this.canTrackVelocity=Re(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Pn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{const{stop:s}=e(n);this.stopAnimation=s}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function Di(t){return new Mi(t)}const{isArray:Ci}=Array;function Nn(){const t=T({}),e=s=>{const r=i=>{!t.value[i]||(t.value[i].stop(),t.value[i].destroy(),delete t.value[i])};s?Ci(s)?s.forEach(r):r(s):Object.keys(t.value).forEach(r)},n=(s,r,i)=>{if(t.value[s])return t.value[s];const o=Di(r);return o.onChange(a=>i[s]=a),t.value[s]=o,o};return ir(e),{motionValues:t,get:n,stop:e}}const Ai=t=>Array.isArray(t),U=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),jt=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),Pi=t=>({type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}),Rt=()=>({type:"keyframes",ease:"linear",duration:300}),Vi=t=>({type:"keyframes",duration:800,values:t}),ke={default:Pi,x:U,y:U,z:U,rotate:U,rotateX:U,rotateY:U,rotateZ:U,scaleX:jt,scaleY:jt,scale:jt,backgroundColor:Rt,color:Rt,opacity:Rt},oe=(t,e)=>{let n;return Ai(e)?n=Vi:n=ke[t]||ke.default,{to:e,...n(e)}},Ne={...dt,transform:Math.round},Ln={color:M,backgroundColor:M,outlineColor:M,fill:M,stroke:M,borderColor:M,borderTopColor:M,borderRightColor:M,borderBottomColor:M,borderLeftColor:M,borderWidth:y,borderTopWidth:y,borderRightWidth:y,borderBottomWidth:y,borderLeftWidth:y,borderRadius:y,radius:y,borderTopLeftRadius:y,borderTopRightRadius:y,borderBottomRightRadius:y,borderBottomLeftRadius:y,width:y,maxWidth:y,height:y,maxHeight:y,size:y,top:y,right:y,bottom:y,left:y,padding:y,paddingTop:y,paddingRight:y,paddingBottom:y,paddingLeft:y,margin:y,marginTop:y,marginRight:y,marginBottom:y,marginLeft:y,rotate:$,rotateX:$,rotateY:$,rotateZ:$,scale:mt,scaleX:mt,scaleY:mt,scaleZ:mt,skew:$,skewX:$,skewY:$,distance:y,translateX:y,translateY:y,translateZ:y,x:y,y,z:y,perspective:y,transformPerspective:y,opacity:nt,originX:Ce,originY:Ce,originZ:y,zIndex:Ne,filter:qt,WebkitFilter:qt,fillOpacity:nt,strokeOpacity:nt,numOctaves:Ne},ae=t=>Ln[t],Fn=(t,e)=>e&&typeof t=="number"&&e.transform?e.transform(t):t;function ji(t,e){let n=ae(t);return n!==qt&&(n=pt),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Ri={linear:En,easeIn:se,easeInOut:Mn,easeOut:ei,circIn:Dn,circInOut:ni,circOut:Cn,backIn:re,backInOut:ri,backOut:si,anticipate:ii,bounceIn:li,bounceInOut:ui,bounceOut:_t},Le=t=>{if(Array.isArray(t)){const[e,n,s,r]=t;return Ii(e,n,s,r)}else if(typeof t=="string")return Ri[t];return t},ki=t=>Array.isArray(t)&&typeof t[0]!="number",Fe=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&pt.test(e)&&!e.startsWith("url("));function Ni(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function Li({ease:t,times:e,delay:n,...s}){const r={...s};return e&&(r.offset=e),t&&(r.ease=ki(t)?t.map(Le):Le(t)),n&&(r.elapsed=-n),r}function Fi(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),Ni(e),Bi(t)||(t={...t,...oe(n,e.to)}),{...e,...Li(t)}}function Bi({delay:t,repeat:e,repeatType:n,repeatDelay:s,from:r,...i}){return!!Object.keys(i).length}function Wi(t,e){return t[e]||t.default||t}function zi(t,e,n,s,r){const i=Wi(s,t);let o=i.from===null||i.from===void 0?e.get():i.from;const a=Fe(t,n);o==="none"&&a&&typeof n=="string"&&(o=ji(t,n));const c=Fe(t,o);function l(f){const d={from:o,to:n,velocity:s.velocity?s.velocity:e.getVelocity(),onUpdate:h=>e.set(h)};return i.type==="inertia"||i.type==="decay"?bi({...d,...i}):ie({...Fi(i,d,t),onUpdate:h=>{d.onUpdate(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{s.onComplete&&s.onComplete(),r&&r(),f&&f()}})}function u(f){return e.set(n),s.onComplete&&s.onComplete(),r&&r(),f&&f(),{stop:()=>{}}}return!c||!a||i.type===!1?u:l}function Gi(){const{motionValues:t,stop:e,get:n}=Nn();return{motionValues:t,stop:e,push:(r,i,o,a={},c)=>{const l=o[r],u=n(r,l,o);if(a&&a.immediate){u.set(i);return}const f=zi(r,u,i,a,c);u.start(f)}}}function $i(t,e={},{motionValues:n,push:s,stop:r}=Gi()){const i=w(e),o=T(!1);C(n,f=>{o.value=Object.values(f).filter(d=>d.isAnimating()).length>0},{immediate:!0,deep:!0});const a=f=>{if(!i||!i[f])throw new Error(`The variant ${f} does not exist.`);return i[f]},c=f=>(typeof f=="string"&&(f=a(f)),Promise.all(Object.entries(f).map(([d,h])=>{if(d!=="transition")return new Promise(g=>{s(d,h,t,f.transition||oe(d,f[d]),g)})}).filter(Boolean)));return{isAnimating:o,apply:c,set:f=>{const d=er(f)?f:a(f);Object.entries(d).forEach(([h,g])=>{h!=="transition"&&s(h,g,t,{immediate:!0})})},leave:async f=>{let d;if(i&&(i.leave&&(d=i.leave),!i.leave&&i.initial&&(d=i.initial)),!d){f();return}await c(d),f()},stop:r}}const ce=typeof window!="undefined",Ui=()=>ce&&window.onpointerdown===null,Hi=()=>ce&&window.ontouchstart===null,Ki=()=>ce&&window.onmousedown===null;function Yi({target:t,state:e,variants:n,apply:s}){const r=w(n),i=T(!1),o=T(!1),a=T(!1),c=D(()=>{let u=[];return r&&(r.hovered&&(u=[...u,...Object.keys(r.hovered)]),r.tapped&&(u=[...u,...Object.keys(r.tapped)]),r.focused&&(u=[...u,...Object.keys(r.focused)])),u}),l=D(()=>{const u={};Object.assign(u,e.value),i.value&&r.hovered&&Object.assign(u,r.hovered),o.value&&r.tapped&&Object.assign(u,r.tapped),a.value&&r.focused&&Object.assign(u,r.focused);for(const f in u)c.value.includes(f)||delete u[f];return u});r.hovered&&(E(t,"mouseenter",()=>i.value=!0),E(t,"mouseleave",()=>{i.value=!1,o.value=!1}),E(t,"mouseout",()=>{i.value=!1,o.value=!1})),r.tapped&&(Ki()&&(E(t,"mousedown",()=>o.value=!0),E(t,"mouseup",()=>o.value=!1)),Ui()&&(E(t,"pointerdown",()=>o.value=!0),E(t,"pointerup",()=>o.value=!1)),Hi()&&(E(t,"touchstart",()=>o.value=!0),E(t,"touchend",()=>o.value=!1))),r.focused&&(E(t,"focus",()=>a.value=!0),E(t,"blur",()=>a.value=!1)),C(l,s)}function qi({set:t,target:e,apply:n,variants:s,variant:r}){const i=w(s);C(()=>e,()=>{!i||(i.initial&&t("initial"),i.enter&&(r.value="enter"))},{immediate:!0,flush:"pre"})}function Xi({state:t,apply:e}){C(t,n=>{n&&e(n)},{immediate:!0})}function Zi({target:t,variants:e,variant:n}){const s=w(e);s&&(s.visible||s.visibleOnce)&&ar(t,([{isIntersecting:r}])=>{s.visible?r?n.value="visible":n.value="initial":s.visibleOnce&&(r&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function Qi(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&qi(t),e.syncVariants&&Xi(t),e.visibilityHooks&&Zi(t),e.eventListeners&&Yi(t)}function Bn(t={}){const e=J({...t}),n=T({});return C(e,()=>{const s={};for(const[r,i]of Object.entries(e)){const o=ae(r),a=Fn(i,o);s[r]=a}n.value=s},{immediate:!0,deep:!0}),{state:e,style:n}}function le(t,e){C(()=>rt(t),n=>{!n||e(n)},{immediate:!0})}const Ji={x:"translateX",y:"translateY",z:"translateZ"};function Wn(t={},e=!0){const n=J({...t}),s=T("");return C(n,r=>{let i="",o=!1;e&&(r.x||r.y||r.z)&&(i+=`translate3d(${[r.x||0,r.y||0,r.z||0].map(y.transform).join(",")}) `,o=!0);for(const[a,c]of Object.entries(r)){if(e&&(a==="x"||a==="y"||a==="z"))continue;const l=ae(a),u=Fn(c,l);i+=`${Ji[a]||a}(${u}) `}e&&!o&&(i+="translateZ(0px) "),s.value=i.trim()},{immediate:!0,deep:!0}),{state:n,transform:s}}const to=["","X","Y","Z"],eo=["perspective","translate","scale","rotate","skew"],zn=["transformPerspective","x","y","z"];eo.forEach(t=>{to.forEach(e=>{const n=t+e;zn.push(n)})});const no=new Set(zn);function ue(t){return no.has(t)}const so=new Set(["originX","originY","originZ"]);function Gn(t){return so.has(t)}function ro(t){const e={},n={};return Object.entries(t).forEach(([s,r])=>{ue(s)||Gn(s)?e[s]=r:n[s]=r}),{transform:e,style:n}}function io(t){const{transform:e,style:n}=ro(t),{transform:s}=Wn(e),{style:r}=Bn(n);return s.value&&(r.value.transform=s.value),r.value}function oo(t,e){let n,s;const{state:r,style:i}=Bn();return le(t,o=>{s=o;for(const a of Object.keys(Ln))o.style[a]===null||o.style[a]===""||ue(a)||Gn(a)||(r[a]=o.style[a]);n&&Object.entries(n).forEach(([a,c])=>o.style[a]=c),e&&e(r)}),C(i,o=>{if(!s){n=o;return}for(const a in o)s.style[a]=o[a]},{immediate:!0}),{style:r}}function ao(t){const e=t.trim().split(/\) |\)/);if(e.length===1)return{};const n=s=>s.endsWith("px")||s.endsWith("deg")?parseFloat(s):isNaN(Number(s))?Number(s):s;return e.reduce((s,r)=>{if(!r)return s;const[i,o]=r.split("("),c=o.split(",").map(u=>n(u.endsWith(")")?u.replace(")",""):u.trim())),l=c.length===1?c[0]:c;return{...s,[i]:l}},{})}function co(t,e){Object.entries(ao(e)).forEach(([n,s])=>{const r=["x","y","z"];if(n==="translate3d"){if(s===0){r.forEach(i=>t[i]=0);return}s.forEach((i,o)=>t[r[o]]=i);return}if(s=parseFloat(s),n==="translateX"){t.x=s;return}if(n==="translateY"){t.y=s;return}if(n==="translateZ"){t.z=s;return}t[n]=s})}function lo(t,e){let n,s;const{state:r,transform:i}=Wn();return le(t,o=>{s=o,o.style.transform&&co(r,o.style.transform),n&&(o.style.transform=n),e&&e(r)}),C(i,o=>{if(!s){n=o;return}s.style.transform=o},{immediate:!0}),{transform:r}}function $n(t,e){const n=J({}),s=o=>Object.entries(o).forEach(([a,c])=>n[a]=c),{style:r}=oo(t,s),{transform:i}=lo(t,s);return C(n,o=>{Object.entries(o).forEach(([a,c])=>{const l=ue(a)?i:r;l[a]&&l[a]===c||(l[a]=c)})},{immediate:!0,deep:!0}),le(t,()=>e&&s(e)),{motionProperties:n,style:r,transform:i}}function uo(t={}){const e=w(t),n=T();return{state:D(()=>{if(!!n.value)return e[n.value]}),variant:n}}function fo(t,e={},n){const{motionProperties:s}=$n(t),{variant:r,state:i}=uo(e),o=$i(s,e),a={target:t,variant:r,variants:e,state:i,motionProperties:s,...o};return Qi(a,n),a}const po={initial:{opacity:0},enter:{opacity:1}},ho={initial:{opacity:0},visible:{opacity:1}},mo={initial:{opacity:0},visibleOnce:{opacity:1}},go={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},yo={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},vo={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},bo={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},_o={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},Oo={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},xo={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},To={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},wo={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},So={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},Io={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},Eo={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},Mo={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},Do={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},Co={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},Ao={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},Po={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},Vo={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},jo={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},Ro={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},ko={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},No={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},Lo={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},Fo={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},Bo={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},Wo={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},zo={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},Go={__proto__:null,fade:po,fadeVisible:ho,fadeVisibleOnce:mo,pop:go,popVisible:yo,popVisibleOnce:vo,rollBottom:Mo,rollLeft:bo,rollRight:xo,rollTop:So,rollVisibleBottom:Do,rollVisibleLeft:_o,rollVisibleRight:To,rollVisibleTop:Io,rollVisibleOnceBottom:Co,rollVisibleOnceLeft:Oo,rollVisibleOnceRight:wo,rollVisibleOnceTop:Eo,slideBottom:Bo,slideLeft:Ao,slideRight:jo,slideTop:No,slideVisibleBottom:Wo,slideVisibleLeft:Po,slideVisibleRight:Ro,slideVisibleTop:Lo,slideVisibleOnceBottom:zo,slideVisibleOnceLeft:Vo,slideVisibleOnceRight:ko,slideVisibleOnceTop:Fo};at({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(t){var a;const e=es(),n=J({});if(!t.is&&!e.default)return()=>kt("div",{});const s=D(()=>{let c;return t.preset&&(c=Go[t.preset]),c}),r=D(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused})),i=D(()=>{const c={...r.value,...s.value||{},...t.variants||{}};return t.delay&&(c.enter.transition={...c.enter.transition},c.enter.transition.delay=parseInt(t.delay)),c}),o=D(()=>{if(!t.is)return;let c=t.is;return typeof o.value=="string"&&!ss(c)&&(c=rs(c)),c});if(((a=process==null?void 0:process.env)==null?void 0:a.NODE_ENV)==="development"||(process==null?void 0:process.dev)){const c=l=>{var u;(u=l.variants)!=null&&u.initial&&l.set("initial"),setTimeout(()=>{var f,d,h;(f=l.variants)!=null&&f.enter&&l.apply("enter"),(d=l.variants)!=null&&d.visible&&l.apply("visible"),(h=l.variants)!=null&&h.visibleOnce&&l.apply("visibleOnce")},10)};ns(()=>Object.entries(n).forEach(([l,u])=>c(u)))}return{slots:e,component:o,motionConfig:i,instances:n}},render({slots:t,motionConfig:e,instances:n,component:s}){var a;const r=io(e.initial||{}),i=(c,l)=>(c.props||(c.props={}),c.props.style=r,c.props.onVnodeMounted=({el:u})=>{const f=fo(u,e);n[l]=f},c);if(s){const c=kt(s,void 0,t);return i(c,0),c}return(((a=t.default)==null?void 0:a.call(t))||[]).map((c,l)=>i(c,l))}});function $o(t,e){const{stop:n,get:s}=Nn();return{values:t,stop:n,get:s,set:r=>Promise.all(Object.entries(r).map(([i,o])=>{const a=s(i,t[i],t);return a.start(c=>{const l={type:"spring",...e||oe(i,o)};return ie({from:a.get(),to:o,velocity:a.getVelocity(),onUpdate:u=>a.set(u),onComplete:c,...l})})}))}}function Be(t,e){return t.map(n=>({v:e(n),e:n})).sort((n,s)=>n.v>s.v?1:n.v<s.v?-1:0).map(n=>n.e)}function Uo(t){return t!=null}function Un(t,e){return Object.fromEntries(Object.entries(t).filter(([n,s])=>e.includes(n)))}function Ho(t,{x:e,y:n}={}){const{motionProperties:s}=$n(t,{cursor:"grab",x:e!=null?e:0,y:n!=null?n:0}),{set:r,stop:i,values:o}=$o(s);setTimeout(()=>{r({x:0,y:0})});function a(u,f,d){}const c=T(!1),l={el:t,onDragStart:T(a),onDrag:T(a),onDragEnd:T(a),motionProperties:s,dragging:c,set:r,stop:i,values:o};return Qs(u=>{var g,p,v,b,O,m;const{movement:[f,d],dragging:h}=u;h?(r({cursor:"grabbing",x:f,y:d}),c.value&&((b=(v=l.onDragStart).value)==null||b.call(v,f,d,h))):(r({x:0,y:0,cursor:"grab"}),c.value&&((p=(g=l.onDragEnd).value)==null||p.call(g,f,d,h))),(m=(O=l.onDrag).value)==null||m.call(O,f,d,h),c.value=h},{domTarget:t}),l}var X;(t=>{function e(i,o=0,a=1){return i<o?o:i>a?a:i}t.clamp=e;function n(i){return i.reduce((o,a)=>o+a)}t.summ=n;function s(i){return n(i)/i.length}t.avg=s;function r(i,o,a){return a=e(a),i*(1-a)+o*a}t.lerp=r})(X||(X={}));var W;(t=>{function e(o){return{x:X.avg(o.map(a=>a.x)),y:X.avg(o.map(a=>a.y))}}t.avg=e;function n(o,a,c){return{x:X.lerp(o.x,a.x,c),y:X.lerp(o.y,a.y,c)}}t.lerp=n;function s({x:o,y:a},c){return o-=c.x,a-=c.y,o*o+a*a}t.dist2=s;function r({x:o,y:a}){return function({x:l,y:u}){return l-=o,u-=a,l*l+u*u}}t.bindDist2=r;function i({x:o,y:a}){return{x:o,y:a}}t.from=i})(W||(W={}));const Ko=at({__name:"MergeItem2",props:{item:null},emits:["item-drag-start","item-drag-end"],setup(t,{emit:e}){var d;const n=t,s=T(),{onDragEnd:r,onDragStart:i,dragging:o,values:a,set:c}=Ho(s,u((d=n.item.initialPos)!=null?d:n.item.cell));i.value=()=>e("item-drag-start",n.item),r.value=()=>e("item-drag-end",n.item,l(a)),C(()=>n.item.currentPos,()=>{n.item.currentPos&&c(u(n.item.currentPos))});function l({x:h,y:g}){const{item:p}=n,v=p.game.pixelWidth;return{x:p.x+h/v,y:p.y+g/v}}function u({x:h,y:g}){const{item:p}=n,v=p.game.pixelWidth;return{x:(h-p.x)*v,y:(g-p.y)*v}}const f=D(()=>({"--bg":`hsl(${n.item.tier*30}deg 100% 50%)`,"z-index":o.value?"999":void 0}));return(h,g)=>(P(),z(xt("item"),{ref_key:"el",ref:s,style:ze(w(f))},{default:G(()=>[j(L(t.item.group.uid),1)]),_:1},8,["style"]))}});const Yo=at({__name:"MergeCell2",props:{cell:null,hover:{type:Boolean}},emits:["item-drag-start","item-drag-end"],setup(t,{emit:e}){return(n,s)=>{const r=Ko;return P(),z(xt("cell"),null,{default:G(()=>[t.cell.item?(P(),z(r,{key:t.cell.item.uid,item:t.cell.item,onItemDragEnd:s[0]||(s[0]=(i,o)=>e("item-drag-end",i,o)),onItemDragStart:s[1]||(s[1]=i=>e("item-drag-start",i))},{default:G(()=>[j(" has item ")]),_:1},8,["item"])):is("",!0)]),_:1})}}});var Xt;(t=>{t.a=0;function e(r){const i=W.bindDist2(W.avg(r));return r=Be(r,i),{drop:r.slice(0,1),remove:r.slice()}}t.merge3=e;function n(r){const i=W.bindDist2(W.avg(r));r=Be(r,i),console.log(r,r.map(i));const o=r.map(i),a=o[1]===o[4]?[r[1],r[4]]:o[1]===o[2]?r.slice(1,3):r.slice(0,2),c=r.slice();return{drop:a,remove:c}}t.merge5=n;function s(r){return r.length===3?e(r):r.length===5?n(r):null}t.some=s})(Xt||(Xt={}));class qo{constructor(){S(this,"grid");S(this,"pixelWidth",32);this.grid=Array(10).fill(0).map((e,n)=>Array(10).fill(0).map((s,r)=>new Xo(r,n,this))),os(this),setInterval(()=>this.onTick(),100)}get rows(){return this.grid.length}get cols(){return this.grid[0].length}onItemMove(e,n,s,r){s&&(n&&s.item&&s.item.moveToCell(n,s,r),e.moveToCell(s,n,r))}onItemDoubleTap(e,n){}onTick(){for(const e of this.getItems()){const n=Y.getCellGroup(e).map(s=>s.item);n.every((s,r)=>s===e.group.items[r])||(e.group=new Y(n))}for(const e of this.getGroups())e.onTick()}*getCells(){for(const e of this.grid)yield*e}*getItems(){for(const e of this.getCells())e.item&&(yield e.item)}*getGroups(){const e=new Set;for(const n of this.getItems())e.has(n.group)||(yield n.group),e.add(n.group)}}class Xo{constructor(e,n,s){S(this,"x");S(this,"y");S(this,"game");S(this,"item",null);return this.x=e,this.y=n,this.game=s,J(this)}getNeighbours(){return[[0,-1],[1,0],[0,1],[-1,0]].map(([n,s])=>{var r;return(r=this.game.grid[this.y+s])==null?void 0:r[this.x+n]}).filter(Uo)}dist2({x:e,y:n}){return e-=this.x,n-=this.y,e*e+n*n}toJSON(){return Un(this,["x","y","item"])}}class Hn{constructor(e){S(this,"uid",~~(100+900*Math.random()));S(this,"cell",null);S(this,"game");S(this,"id");S(this,"tier");S(this,"group",new Y([this]));S(this,"initialPos",{x:0,y:0});S(this,"currentPos",{x:0,y:0});var n;return this.cell=(n=e.cell)!=null?n:null,e.cell&&(e.cell.item=this),this.id=e.id,this.tier=e.tier,this.game=e.game,e.initialPos&&(this.initialPos=e.initialPos),J(this)}get x(){var e,n;return(n=(e=this.cell)==null?void 0:e.x)!=null?n:-1}get y(){var e,n;return(n=(e=this.cell)==null?void 0:e.y)!=null?n:-1}moveToCell(e,n,s){this.group.ungroup(),(n==null?void 0:n.item)===this&&(n.item=null),e&&(e.item=this),this.cell=e,s&&(this.initialPos=s)}toJSON(){return Un(this,["uid","id","tier","x","y","currentPos"])}sameAs(e){return e&&this.id===e.id&&this.tier===e.tier}}class Y{constructor(e){S(this,"uid",~~(100+900*Math.random()));S(this,"items",[]);S(this,"highlight",!1);S(this,"primary");S(this,"lifetime",0);Array.isArray(e)?this.items=e:(this.primary=e,this.items=Y.getCellGroup(e).map(n=>n.item)),this.items.map(n=>n.group=this)}static getCellGroup(e,n=e.cell){if(!n)return[];const s=[n],r=new Set(s),i=[e],o=new Set(i);for(let c=0;c<s.length;c++)for(const l of s[c].getNeighbours())!l.item||!e.sameAs(l.item)||r.has(l)||o.has(l.item)||(s.push(l),r.add(l),i.push(l.item),o.add(l.item));function a({x:c,y:l}){return 1e5*c+l}return s.sort((c,l)=>a(l)-a(c))}get game(){return this.items[0].game}get center(){return W.avg(this.items)}ungroup(){for(const e of this.items)e.group=new Y([e]),e.currentPos={x:e.x,y:e.y}}onTick(){if(this.lifetime+=1,this.items.length<3)return;this.items.map(({x:n,y:s})=>({x:n,y:s}));let e=this.lifetime/10;e+=e*e*e,this.items.map(n=>n.currentPos=W.lerp(n,this.center,e)),e>1&&this.merge()}merge(){this.ungroup();const{center:e}=this,n=i=>{const o=this.items[0];new Hn({id:o.id,game:this.game,tier:o.tier+1,initialPos:e}).moveToCell(i,null,e)},s=Xt.some(this.items);if(!s)return;console.log(s);const r=s.drop.map(i=>i.cell);s.remove.map(i=>i.moveToCell(null,i.cell)),r.map(i=>n(i))}}const A=new qo;for(let t=0;t<10;t++)new Hn({id:"sunflower",tier:~~(t/5)+1,game:A}).moveToCell(A.grid[t][t]);Object.assign(globalThis,{game:A});const Zo=k("br",null,null,-1),Qo=k("br",null,null,-1),Jo=k("br",null,null,-1),ta=k("br",null,null,-1),ea=k("br",null,null,-1),na=k("br",null,null,-1),sa=k("br",null,null,-1),ra=k("br",null,null,-1),ia=at({__name:"MergeGame2",setup(t){const e=T(),n=lr(e),s=D(()=>({x:Math.floor(n.elementX.value/n.elementWidth.value*A.cols),y:Math.floor(n.elementY.value/n.elementHeight.value*A.rows)}));as(()=>{A.pixelWidth=n.elementWidth.value/A.cols});const r=D(()=>{var u,f;return(f=(u=A.grid[s.value.y])==null?void 0:u[s.value.x])!=null?f:null}),i=T(),o=D(()=>{var d;const u=r.value,f=(d=i.value)!=null?d:u==null?void 0:u.item;return!u||!f?[]:Y.getCellGroup(f,u)});function a(u){i.value=u}function c(u,f){A.onItemMove(u,u.cell,r.value,f),i.value=void 0}function l(u){return{hover:r.value===u,group:o.value.includes(u)}}return(u,f)=>{var p,v;const d=Yo,h=gs,g=ps;return P(),Mt(Dt,null,[Ke(g,{ref_key:"el",ref:e,cols:w(A).cols,style:{width:"600px",margin:"auto"}},{default:G(()=>[(P(!0),Mt(Dt,null,de(w(A).grid,(b,O)=>(P(),z(h,{key:O},{default:G(()=>[(P(!0),Mt(Dt,null,de(b,(m,_)=>(P(),z(d,{key:_,cell:m,class:cs(l(m)),onItemDragEnd:c,onItemDragStart:a},null,8,["cell","class"]))),128))]),_:2},1024))),128))]),_:1},8,["cols"]),k("button",{onClick:f[0]||(f[0]=b=>w(A).onTick())}," tick "),j(),Zo,j(" "+L(w(n))+" ",1),Qo,j(" "+L(w(A).pixelWidth)+" ",1),Jo,j(" "+L(w(s))+" ",1),ta,j(" "+L(w(r))+" ",1),ea,j(" "+L({group:w(o)})+" ",1),na,j(" "+L({dragged:i.value})+" ",1),sa,j(" ig: "+L((v=(p=w(r))==null?void 0:p.item)==null?void 0:v.group)+" ",1),ra],64)}}});var oa=fs({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:n}}=Tt(),s=pe(ls,q);if(s===q)return console.error("QPage needs to be a deep child of QLayout"),q;if(pe(us,q)===q)return console.error("QPage needs to be child of QPageContainer"),q;const i=D(()=>{const a=(s.header.space===!0?s.header.size:0)+(s.footer.space===!0?s.footer.size:0);if(typeof t.styleFn=="function"){const c=s.isContainer.value===!0?s.containerHeight.value:n.screen.height;return t.styleFn(a,c)}return{minHeight:s.isContainer.value===!0?s.containerHeight.value-a+"px":n.screen.height===0?a!==0?`calc(100vh - ${a}px)`:"100vh":n.screen.height-a+"px"}}),o=D(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>kt("main",{class:o.value,style:i.value},ds(e.default))}});const aa={};function ca(t,e){const n=ia;return P(),z(oa,{padding:""},{default:G(()=>[Ke(n)]),_:1})}var da=Ge(aa,[["render",ca]]);export{da as default};
